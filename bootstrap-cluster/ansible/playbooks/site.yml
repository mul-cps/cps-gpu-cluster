---
# Main playbook to deploy K3s GPU Cluster
# This orchestrates all setup playbooks in the correct order

- name: Prerequisites
  import_playbook: 01-prerequisites.yml

- name: K3s Cluster Setup
  import_playbook: 02-k3s-cluster.yml

- name: Storage Configuration
  import_playbook: 03-storage.yml

- name: GPU Operator Installation
  import_playbook: 04-gpu-operator.yml

- name: Maintenance VM Configuration
  import_playbook: 05-maintenance-vm.yml
  when: "'maintenance' in groups"
